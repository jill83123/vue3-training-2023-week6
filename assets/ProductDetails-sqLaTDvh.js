import{_ as m,g as _,h,c as n,b as g,a as t,t as i,n as D,f as a,i as v,v as b,d as f,F as y,r as x,o as r}from"./index-vmQ5LtDv.js";import{c as p}from"./cartStore-YTnooRIw.js";import{s as k}from"./swalMixin-ro-B760h.js";const L={data(){return{isLoading:!1,tempNum:1,productDetails:{}}},computed:{..._(p,["currentLoadingId"])},methods:{async getProductDetails(){var o,e;this.isLoading=!0;try{const{id:c}=this.$route.params,l=await this.axios.get(`https://vue3-course-api.hexschool.io/v2/api/yu-api-2/product/${c}`);this.productDetails=l.data.product}catch(c){this.showToast({title:((e=(o=c.response)==null?void 0:o.data)==null?void 0:e.message)||"發生錯誤，請稍後再試",icon:"error"})}this.isLoading=!1},...h(p,["addToCart"])},mounted(){this.getProductDetails()},mixins:[k]},N={class:"container pt-5"},w={class:"row"},T={class:"col-4"},C=["src","alt"],V={class:"col-8 ps-5 d-flex flex-column"},z={class:"mb-2 d-inline-block"},B={class:"d-inline-block ms-2"},I={key:0,class:"d-inline-block ms-1 opacity-50"},P={class:"mb-4"},S=t("h3",{class:"fs-6"},"【內容】",-1),U={key:0},F={key:1},M={class:"mt-auto d-flex gap-2"},A={class:"input-group input-group-sm w-50"},E={class:"input-group"},j={class:"input-group-text",id:"basic-addon2"},q=["disabled"],G={class:"text-primary-dark"},H={key:0,class:"spinner-border spinner-border-sm me-1",role:"status",style:{"--bs-spinner-width":"0.8rem","--bs-spinner-height":"0.8rem"}},J=t("span",{class:"visually-hidden"},"Loading...",-1),K=[J];function O(o,e,c,l,s,Q){const u=x("Loading");return r(),n(y,null,[g(u,{active:s.isLoading,"onUpdate:active":e[0]||(e[0]=d=>s.isLoading=d)},null,8,["active"]),t("div",N,[t("div",w,[t("div",T,[t("img",{src:s.productDetails.imageUrl,alt:s.productDetails.title},null,8,C)]),t("div",V,[t("div",null,[t("h2",z,i(s.productDetails.title),1),t("p",B,[t("span",{class:D(["d-inline-block fw-bold fs-5",{"text-success":s.productDetails.origin_price!==s.productDetails.price}])},"NT "+i(s.productDetails.price),3),s.productDetails.origin_price!==s.productDetails.price?(r(),n("del",I,"NT "+i(s.productDetails.origin_price),1)):a("",!0)]),t("p",P,i(s.productDetails.description),1),S,s.productDetails.content?(r(),n("p",U,i(s.productDetails.content),1)):(r(),n("p",F,"此商品無內容描述"))]),t("div",M,[t("div",A,[t("div",E,[v(t("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=d=>s.tempNum=d)},null,512),[[b,s.tempNum,void 0,{number:!0}]]),t("span",j,i(s.productDetails.unit),1)])]),t("button",{class:"btn btn-primary d-block position-relative",style:{"font-size":"14px","font-weight":"600","z-index":"10"},onClick:e[2]||(e[2]=d=>o.addToCart(s.productDetails.id,s.tempNum)),disabled:o.currentLoadingId===s.productDetails.id},[t("span",G,[o.currentLoadingId===s.productDetails.id?(r(),n("div",H,K)):a("",!0),f(" 加入購物車")])],8,q)])])])])],64)}const Y=m(L,[["render",O]]);export{Y as default};
