import{_ as u,m as g,c as o,b as d,a as e,F as l,e as f,r as p,o as n,t as r,n as b,f as m,d as y}from"./index-1h0Yfx-J.js";import{c as x}from"./cartStore-uNdY7Xfk.js";import{s as L}from"./swalMixin-fJjGCbAJ.js";const v={data(){return{productList:[],isLoading:!1}},computed:{...g(x)},methods:{async getProducts(){var t,i;this.isLoading=!0;try{const a=await this.axios.get("https://vue3-course-api.hexschool.io/v2/api/yu-api-2/products/all");this.productList=a.data.products}catch(a){this.showToast({title:((i=(t=a.response)==null?void 0:t.data)==null?void 0:i.message)||"發生錯誤，請稍後再試",icon:"error"})}this.isLoading=!1}},mounted(){this.getProducts()},mixins:[L]},k={class:"container py-5"},w=e("h2",{class:"text-center mb-5",style:{"font-size":"36px"}},"商品一覽",-1),z={class:"d-flex flex-wrap"},C=["src","alt"],N={class:"card-body h-100 d-flex flex-column"},S={class:"card-text mb-1",style:{"font-size":"14px"}},T={class:"mt-auto mb-2"},V={key:0,class:"d-inline-block",style:{"font-size":"12px"}},$=["onClick","disabled"],B={class:"text-primary-dark"},P={key:0,class:"spinner-border spinner-border-sm me-1",role:"status",style:{"--bs-spinner-width":"0.8rem","--bs-spinner-height":"0.8rem"}},F=e("span",{class:"visually-hidden"},"Loading...",-1),I=[F];function R(t,i,a,U,c,D){const _=p("Loading"),h=p("RouterLink");return n(),o(l,null,[d(_,{active:c.isLoading,"onUpdate:active":i[0]||(i[0]=s=>c.isLoading=s)},null,8,["active"]),e("div",k,[w,e("div",z,[(n(!0),o(l,null,f(c.productList,s=>(n(),o("div",{class:"card bg-opacity-25 bg-white m-3",style:{width:"18rem"},key:s.id},[e("img",{class:"card-img-top",src:s.imageUrl,alt:s.title},null,8,C),e("div",N,[e("h5",null,r(s.title),1),e("p",S,r(s.description),1),e("div",T,[e("span",{class:b(["d-inline-block me-2",{"text-success fw-bold":s.origin_price!==s.price}])},"NT "+r(s.price)+" 元",3),s.origin_price!==s.price?(n(),o("del",V,"NT "+r(s.origin_price)+" 元",1)):m("",!0)]),e("button",{class:"btn btn-primary rounded-5 d-block position-relative",style:{"font-size":"14px","font-weight":"600","z-index":"10"},onClick:E=>t.cartStore.addToCart(s.id),disabled:t.cartStore.currentLoadingId===s.id},[e("span",B,[t.cartStore.currentLoadingId===s.id?(n(),o("div",P,I)):m("",!0),y(" 加入購物車")])],8,$),d(h,{to:"product/"+s.id,class:"stretched-link",style:{"z-index":"5"}},null,8,["to"])])]))),128))])])],64)}const A=u(v,[["render",R]]);export{A as default};
