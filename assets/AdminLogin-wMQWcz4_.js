import{s as d}from"./swalMixin-Sja0Eh-t.js";import{_ as m,c as u,a as s,l as p,i as l,v as c,o as h}from"./index-nYsajjdU.js";const f={data(){return{user:{username:"",password:""}}},methods:{async signIn(){var i,e;if(!(!this.user.username||!this.user.password))try{const r=await this.axios.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user),{token:n,expired:t}=r.data;document.cookie=`flosToken=${n}; expires=${new Date(t)}`,this.showToast({title:"登入成功",icon:"success"}),this.$router.replace("/admin/product")}catch(r){this.showToast({title:((e=(i=r.response)==null?void 0:i.data)==null?void 0:e.message)||"發生錯誤，請稍後再試",icon:"error"})}}},mixins:[d]},_={class:"container"},w={class:"row justify-content-center align-items-center",style:{"min-height":"80vh"}},b={class:"col-4"},x=s("h1",{class:"text-center fw-bold mb-4 h2",style:{"letter-spacing":"0.2rem"}},"請先登入",-1),v={class:"mb-3"},g=s("label",{for:"email",class:"form-label"},"帳號",-1),y={class:"mb-3"},k=s("label",{for:"password",class:"form-label"},"密碼",-1),T=["disabled"];function B(i,e,r,n,t,a){return h(),u("div",_,[s("div",w,[s("div",b,[x,s("form",{class:"d-flex flex-column",onSubmit:e[2]||(e[2]=p((...o)=>a.signIn&&a.signIn(...o),["prevent"]))},[s("div",v,[g,l(s("input",{type:"email",class:"form-control",id:"email",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=o=>t.user.username=o),required:""},null,512),[[c,t.user.username]])]),s("div",y,[k,l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"請輸入密碼","onUpdate:modelValue":e[1]||(e[1]=o=>t.user.password=o),required:""},null,512),[[c,t.user.password]])]),s("button",{type:"submit",class:"btn btn-primary mt-2",disabled:!this.user.username||!this.user.password}," 登入 ",8,T)],32)])])])}const V=m(f,[["render",B]]);export{V as default};
